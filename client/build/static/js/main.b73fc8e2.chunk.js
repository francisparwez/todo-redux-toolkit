(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{16:function(e,t,n){},17:function(e,t,n){},24:function(e,t,n){"use strict";n.r(t);var r,c=n(0),a=n.n(c),o=n(8),s=n.n(o),u=(n(16),n(17),n(7)),i=n(6),l=n(2),d=n.n(l),j=n(5),f=n(4),b=function(){var e=Object(j.a)(d.a.mark((function e(t,n){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t,{method:"POST",headers:{"Content-Type":"application/json",Authorization:localStorage.getItem("token")},body:JSON.stringify(n)});case 2:return r=e.sent,e.next=5,r.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),p=function(){var e=Object(j.a)(d.a.mark((function e(t,n){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t,{method:n,headers:{"Content-Type":"application/json",Authorization:localStorage.getItem("token")}});case 2:return r=e.sent,e.next=5,r.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),O=Object(f.b)("signUpUser",function(){var e=Object(j.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b("/signup",t);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),h=Object(f.b)("signInUser",function(){var e=Object(j.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b("/signin",t);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),g=Object(f.c)({name:"user",initialState:{token:"",loading:!1,message:""},reducers:{addToken:function(e,t){e.token=localStorage.getItem("token")},logout:function(e,t){e.token=null,localStorage.removeItem("token")}},extraReducers:(r={},Object(i.a)(r,O.pending,(function(e,t){e.loading=!0})),Object(i.a)(r,O.fulfilled,(function(e,t){var n=t.payload,r=n.error,c=n.message;e.loading=!1,r?e.message=r:c&&(e.message=c)})),Object(i.a)(r,h.pending,(function(e,t){e.loading=!0})),Object(i.a)(r,h.fulfilled,(function(e,t){var n=t.payload,r=n.error,c=n.token;e.loading=!1,r?e.message=r:c&&(e.token=c,localStorage.setItem("token",c))})),r)}),m=g.actions,v=m.addToken,x=m.logout,k=g.reducer,w=n(3),y=n(1);var S,T=function(){var e=Object(c.useState)(""),t=Object(u.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)(""),o=Object(u.a)(a,2),s=o[0],i=o[1],l=Object(c.useState)("Sign In"),d=Object(u.a)(l,2),j=d[0],f=d[1],b=Object(w.b)(),p=Object(w.c)((function(e){return e.user})),g=p.loading,m=p.message;return Object(y.jsxs)("div",{className:"container",children:[g&&Object(y.jsx)("div",{className:"progress",children:Object(y.jsx)("div",{className:"indeterminate"})}),Object(y.jsxs)("h1",{children:["Please ",j]}),m&&Object(y.jsx)("h4",{children:m}),Object(y.jsx)("input",{type:"email",value:n,onChange:function(e){return r(e.target.value)},placeholder:"Please Enter Your Email"}),Object(y.jsx)("input",{type:"password",value:s,onChange:function(e){return i(e.target.value)},placeholder:"Please Enter Your Password"}),"Sign In"===j?Object(y.jsx)("h6",{onClick:function(){return f("Sign Up")},children:"Don't Have An Account?"}):Object(y.jsx)("h6",{onClick:function(){return f("Sign In")},children:"Already Have An Account?"}),Object(y.jsx)("button",{className:"btn",onClick:function(){b("Sign In"===j?h({email:n,password:s}):O({email:n,password:s}))},children:j})]})},N=Object(f.b)("createTodo",function(){var e=Object(j.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b("/createTodo",t);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),C=Object(f.b)("fetchTodos",Object(j.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p("/getTodos","GET");case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))),I=Object(f.b)("deleteTodos",function(){var e=Object(j.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p("/removeTodo/".concat(t),"DELETE");case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),A=Object(f.c)({name:"todo",initialState:[],reducers:{},extraReducers:(S={},Object(i.a)(S,N.fulfilled,(function(e,t){var n=t.payload.message;n&&e.push(n)})),Object(i.a)(S,C.fulfilled,(function(e,t){return t.payload.message})),Object(i.a)(S,I.fulfilled,(function(e,t){var n=t.payload.message;return e.filter((function(e){return e._id!==n._id}))})),S)}).reducer;var E=function(){var e=Object(c.useState)(""),t=Object(u.a)(e,2),n=t[0],r=t[1],a=Object(w.b)(),o=Object(w.c)((function(e){return e.todos}));return Object(c.useEffect)((function(){a(C())}),[a]),Object(y.jsxs)("div",{className:"container",children:[Object(y.jsx)("h2",{children:"Add New Todos"}),Object(y.jsx)("input",{placeholder:"Write TODO Here",value:n,onChange:function(e){return r(e.target.value)}}),Object(y.jsx)("button",{className:"btn #ff4081 pink accent-2",onClick:function(){""!==n&&(a(N({todo:n})),r(""))},children:"Add Todo"}),Object(y.jsx)("ul",{className:"collection",children:o.map((function(e){return Object(y.jsx)("li",{className:"collection-item",onClick:function(){return a(I(e._id))},children:e.todo},e._id)}))}),Object(y.jsx)("button",{className:"btn #ff4081 pink accent-2",onClick:function(){return a(x())},children:"Logout"})]})};var P=function(){var e=Object(w.c)((function(e){return e.user.token})),t=Object(w.b)();return Object(c.useEffect)((function(){t(v())}),[t]),Object(y.jsx)("div",{className:"App",children:e?Object(y.jsx)(E,{}):Object(y.jsx)(T,{})})},U=Object(f.a)({reducer:{user:k,todos:A}});s.a.render(Object(y.jsx)(a.a.StrictMode,{children:Object(y.jsx)(w.a,{store:U,children:Object(y.jsx)(P,{})})}),document.getElementById("root"))}},[[24,1,2]]]);
//# sourceMappingURL=main.b73fc8e2.chunk.js.map