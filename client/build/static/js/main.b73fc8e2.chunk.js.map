{"version":3,"sources":["helpers/fetch2.js","reducers/authReducer.js","components/Auth.js","reducers/todoReducer.js","components/Todo.js","App.js","app/store.js","index.js"],"names":["fetch2","api","body","a","fetch","method","headers","Authorization","localStorage","getItem","JSON","stringify","res","json","fetchOrRemove","type","signUpUser","createAsyncThunk","result","signInUser","authReducer","createSlice","name","initialState","token","loading","message","reducers","addToken","state","action","logout","removeItem","extraReducers","pending","fulfilled","payload","error","setItem","actions","Auth","useState","email","setEmail","password","setPassword","auth","setAuth","dispatch","useDispatch","useSelector","user","className","value","onChange","e","target","placeholder","onClick","createTodo","fetchTodos","deleteTodos","id","todoSlice","push","filter","item","_id","Todo","myTodo","setMyTodo","todos","useEffect","todo","map","App","store","configureStore","reducer","todoReducer","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.b73fc8e2.chunk.js","sourcesContent":["export const fetch2 = async (api, body) => {\r\n  const res = await fetch(api, {\r\n    method: 'POST',\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n      Authorization: localStorage.getItem('token'),\r\n    },\r\n    body: JSON.stringify(body),\r\n  })\r\n  return await res.json()\r\n}\r\n\r\nexport const fetchOrRemove = async (api, type) => {\r\n  const res = await fetch(api, {\r\n    method: type,\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n      Authorization: localStorage.getItem('token'),\r\n    },\r\n  })\r\n  return await res.json()\r\n}\r\n","import { createAsyncThunk, createSlice } from '@reduxjs/toolkit'\r\nimport { fetch2 } from '../helpers/fetch2'\r\n\r\nconst initialState = {\r\n  token: '',\r\n  loading: false,\r\n  message: '',\r\n}\r\n\r\nexport const signUpUser = createAsyncThunk('signUpUser', async (body) => {\r\n  const result = await fetch2('/signup', body)\r\n  return result\r\n})\r\n\r\nexport const signInUser = createAsyncThunk('signInUser', async (body) => {\r\n  const result = await fetch2('/signin', body)\r\n  return result\r\n})\r\n\r\nconst authReducer = createSlice({\r\n  name: 'user',\r\n  initialState,\r\n  reducers: {\r\n    addToken: (state, action) => {\r\n      state.token = localStorage.getItem('token')\r\n    },\r\n    logout: (state, action) => {\r\n      state.token = null\r\n      localStorage.removeItem('token')\r\n    },\r\n  },\r\n  extraReducers: {\r\n    [signUpUser.pending]: (state, action) => {\r\n      state.loading = true\r\n    },\r\n    [signUpUser.fulfilled]: (state, { payload: { error, message } }) => {\r\n      state.loading = false\r\n      if (error) state.message = error\r\n      else if (message) state.message = message\r\n    },\r\n    [signInUser.pending]: (state, action) => {\r\n      state.loading = true\r\n    },\r\n    [signInUser.fulfilled]: (state, { payload: { error, token } }) => {\r\n      state.loading = false\r\n      if (error) {\r\n        state.message = error\r\n      } else if (token) {\r\n        state.token = token\r\n        localStorage.setItem('token', token)\r\n      }\r\n    },\r\n  },\r\n})\r\n\r\nexport const { addToken, logout } = authReducer.actions\r\nexport default authReducer.reducer\r\n","import { useState } from 'react'\r\nimport { signInUser, signUpUser } from '../reducers/authReducer'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\n\r\nfunction Auth() {\r\n  const [email, setEmail] = useState('')\r\n  const [password, setPassword] = useState('')\r\n  const [auth, setAuth] = useState('Sign In')\r\n\r\n  const dispatch = useDispatch()\r\n  const { loading, message } = useSelector((state) => state.user)\r\n\r\n  const authenticate = () => {\r\n    if (auth === 'Sign In') {\r\n      dispatch(signInUser({ email, password }))\r\n    } else {\r\n      dispatch(signUpUser({ email, password }))\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className='container'>\r\n      {loading && (\r\n        <div className='progress'>\r\n          <div className='indeterminate'></div>\r\n        </div>\r\n      )}\r\n      <h1>Please {auth}</h1>\r\n      {message && <h4>{message}</h4>}\r\n      <input\r\n        type='email'\r\n        value={email}\r\n        onChange={(e) => setEmail(e.target.value)}\r\n        placeholder={'Please Enter Your Email'}\r\n      />\r\n      <input\r\n        type='password'\r\n        value={password}\r\n        onChange={(e) => setPassword(e.target.value)}\r\n        placeholder={'Please Enter Your Password'}\r\n      />\r\n      {auth === 'Sign In' ? (\r\n        <h6 onClick={() => setAuth('Sign Up')}>Don't Have An Account?</h6>\r\n      ) : (\r\n        <h6 onClick={() => setAuth('Sign In')}>Already Have An Account?</h6>\r\n      )}\r\n      <button className='btn' onClick={() => authenticate()}>\r\n        {auth}\r\n      </button>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Auth\r\n","import { createSlice, createAsyncThunk } from '@reduxjs/toolkit'\r\nimport { fetch2, fetchOrRemove } from '../helpers/fetch2'\r\n\r\nconst initialState = []\r\n\r\nexport const createTodo = createAsyncThunk('createTodo', async (body) => {\r\n  const result = await fetch2('/createTodo', body)\r\n  return result\r\n})\r\n\r\nexport const fetchTodos = createAsyncThunk('fetchTodos', async () => {\r\n  const result = await fetchOrRemove('/getTodos', 'GET')\r\n  return result\r\n})\r\n\r\nexport const deleteTodos = createAsyncThunk('deleteTodos', async (id) => {\r\n  const result = await fetchOrRemove(`/removeTodo/${id}`, 'DELETE')\r\n  return result\r\n})\r\n\r\nconst todoSlice = createSlice({\r\n  name: 'todo',\r\n  initialState,\r\n  reducers: {},\r\n  extraReducers: {\r\n    [createTodo.fulfilled]: (state, { payload: { message } }) => {\r\n      if (message) state.push(message)\r\n    },\r\n    [fetchTodos.fulfilled]: (state, { payload: { message } }) => {\r\n      return message\r\n    },\r\n    [deleteTodos.fulfilled]: (state, { payload: { message } }) => {\r\n      const removedTodos = state.filter((item) => item._id !== message._id)\r\n      return removedTodos\r\n    },\r\n  },\r\n})\r\n\r\nexport default todoSlice.reducer\r\n","import React, { useState, useEffect } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { createTodo, deleteTodos, fetchTodos } from '../reducers/todoReducer'\r\nimport { logout } from '../reducers/authReducer'\r\n\r\nfunction Todo() {\r\n  const [myTodo, setMyTodo] = useState('')\r\n  const dispatch = useDispatch()\r\n  const todos = useSelector((state) => state.todos)\r\n\r\n  const addTodo = () => {\r\n    if (myTodo !== '') {\r\n      dispatch(createTodo({ todo: myTodo }))\r\n      setMyTodo('')\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    dispatch(fetchTodos())\r\n  }, [dispatch])\r\n\r\n  return (\r\n    <div className='container'>\r\n      <h2>Add New Todos</h2>\r\n      <input\r\n        placeholder='Write TODO Here'\r\n        value={myTodo}\r\n        onChange={(e) => setMyTodo(e.target.value)}\r\n      />\r\n      <button className='btn #ff4081 pink accent-2' onClick={() => addTodo()}>\r\n        Add Todo\r\n      </button>\r\n\r\n      <ul className='collection'>\r\n        {todos.map((item) => {\r\n          return (\r\n            <li\r\n              className='collection-item'\r\n              key={item._id}\r\n              onClick={() => dispatch(deleteTodos(item._id))}\r\n            >\r\n              {item.todo}\r\n            </li>\r\n          )\r\n        })}\r\n      </ul>\r\n\r\n      <button\r\n        className='btn #ff4081 pink accent-2'\r\n        onClick={() => dispatch(logout())}\r\n      >\r\n        Logout\r\n      </button>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Todo\r\n","import React, { useEffect } from 'react'\nimport './App.css'\nimport Auth from './components/Auth'\nimport Todo from './components/Todo'\nimport { addToken } from './reducers/authReducer'\nimport { useDispatch, useSelector } from 'react-redux'\n\nfunction App() {\n  const token = useSelector((state) => state.user.token)\n  const dispatch = useDispatch()\n\n  useEffect(() => {\n    dispatch(addToken())\n  }, [dispatch])\n\n  return <div className='App'>{token ? <Todo /> : <Auth />}</div>\n}\n\nexport default App\n","import { configureStore } from '@reduxjs/toolkit'\nimport authReducer from '../reducers/authReducer'\nimport todoReducer from '../reducers/todoReducer'\n\nexport const store = configureStore({\n  reducer: {\n    user: authReducer,\n    todos: todoReducer,\n  },\n})\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport App from './App'\nimport { store } from './app/store'\nimport { Provider } from 'react-redux'\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n)\n"],"sourceRoot":""}